# Application Name
spring.application.name=VetClinic

# ============================================
# H2 Database Configuration
# ============================================
spring.datasource.url=jdbc:h2:mem:vetclinicdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# H2 Console (useful for debugging)
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# ============================================
# JPA/Hibernate Configuration
# ============================================
# Create tables automatically from entities
spring.jpa.hibernate.ddl-auto=create-drop

# Initialize database with data.sql after Hibernate creates tables
spring.jpa.defer-datasource-initialization=true

# Show SQL in console
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# ============================================
# Logging Configuration
# ============================================
# General application logging
logging.level.root=INFO
logging.level.vetclinic=DEBUG

# SQL logging (reducido para claridad)
logging.level.org.hibernate.SQL=INFO
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=WARN
logging.level.org.hibernate.orm.jdbc.bind=WARN

# Spring Data JPA
logging.level.org.springframework.orm.jpa=INFO
logging.level.org.springframework.transaction=INFO

# ============================================
# Server Configuration
# ============================================
server.port=8080

# Better error messages in responses
server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-stacktrace=on_param
server.error.include-exception=false

# ============================================
# Spring Scheduling (for UC 2.10 - Low Stock Alert)
# ============================================
spring.task.scheduling.pool.size=2

# ============================================
# Medication Incompatibility Feature
# ============================================
# Enable/disable incompatibility checks
vetclinic.medication.incompatibility.enabled=true

# Logging for incompatibility checks
logging.level.vetclinic.application.MedicationIncompatibilityService=DEBUG